<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†–ê–ó–£–ú ‚Äî –¥–µ–º–æ</title>

<style>
:root{
  --primary:#6366f1;
  --accent:#22c55e;
  --bg:#020617;
  --card:#020617ee;
  --text:#f8fafc;
  --muted:#94a3b8;
  --back:#334155;
}

body{
  margin:0;
  padding:16px;
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  background:
    radial-gradient(1000px 500px at 20% -10%, #0f172a, transparent),
    radial-gradient(800px 400px at 90% 10%, #020617, transparent),
    var(--bg);
  color:var(--text);
}

h1,h2,h3{margin:8px 0}

button{
  width:100%;
  padding:14px;
  margin:6px 0;
  border:none;
  border-radius:18px;
  background:linear-gradient(135deg,var(--primary),#818cf8);
  color:#fff;
  font-size:16px;
}

.back-btn{
  background:linear-gradient(135deg,var(--back),#475569);
}

.card{
  background:var(--card);
  border-radius:22px;
  padding:18px;
  margin-bottom:14px;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
}

.progress{
  background:#020617;
  border-radius:10px;
  overflow:hidden;
}
.progress div{
  height:10px;
  background:linear-gradient(90deg,var(--accent),#4ade80);
}

.task{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:8px 0;
}
.task.done{
  opacity:.5;
  text-decoration:line-through;
}

.small{
  padding:6px 12px;
  border-radius:12px;
  background:var(--accent);
  color:#022c22;
  font-size:13px;
}

textarea{
  width:100%;
  padding:10px;
  border-radius:12px;
  background:#020617;
  color:#fff;
  border:1px solid rgba(255,255,255,.1);
}

.hidden{display:none}
</style>
</head>

<body>

<h1>–†–ê–ó–£–ú</h1>

<!-- üîí –ë–õ–û–ö –û –¶–ï–ù–¢–†–ï (–ó–ê–ö–†–ï–ü–õ–Å–ù) -->
<div class="card">
  <b style="font-size:18px">–õ–æ–≥–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä ¬´–†–∞–∑—É–º¬ª</b><br><br>

  –ú—ã ‚Äî –ª–æ–≥–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –≤ –ü–µ—Ç–µ—Ä–≥–æ—Ñ–µ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ—Ç—è–º
  –æ—Ç 3 –¥–æ 7 –ª–µ—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Ä–µ—á—å, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏.<br><br>

  –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –ø–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –∏ –¥–µ–ª–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å
  –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π:
  –≤—ã –≤–∏–¥–∏—Ç–µ –∑–∞–¥–∞–Ω–∏—è, –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞.<br><br>

  –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî —á–∞—Å—Ç—å –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã:
  –¥–µ—Ç–∏ –≤–æ–≤–ª–µ–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ–Ω—è—Ç–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è,
  —Ä–æ–¥–∏—Ç–µ–ª–∏ –ø–æ–Ω–∏–º–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç,
  –ª–æ–≥–æ–ø–µ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —É–¥–æ–±–Ω–æ–º —Ü–∏—Ñ—Ä–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.<br><br>

  üìû <b>8 913 450-30-29</b><br>
  üìç –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç 60–õ, 2 —ç—Ç–∞–∂
</div>

<div id="home">
  <button onclick="showParent()">üë®‚Äçüë©‚Äçüëß –†–æ–¥–∏—Ç–µ–ª—å</button>
  <button onclick="showSpeech()">üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥</button>
  <button onclick="showAdmin()">üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
</div>

<div id="screen" class="hidden"></div>

<script>
const PRICE=16000;

const data={
  "–í–∞—Å—é–∫–æ–≤–∞ –ê.–ê.":["–§—ë–¥–æ—Ä","–ê–ª–µ–∫—Å–∞–Ω–¥—Ä","–ê—Ä—Ç—ë–º","–ú–∏—Ä–æ—Å–ª–∞–≤–∞","–Ø—Å—è","–í–ª–∞–¥–∏–º–∏—Ä","–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞","–ê–ª–µ–∫—Å–µ–π","–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω","–ü—ë—Ç—Ä","–ï–ª–∏–∑–∞–≤–µ—Ç–∞","–ê–ª—ë–Ω–∞","–ú–∏—è","–¢–∞–∏—Ä","–°—Ç–µ—à–∞","–õ–µ–æ–Ω–∏–¥","–°–∞–≤–µ–ª–∏–π","–ê—Ä–∏–Ω–∞","–ï–≤–≥–µ–Ω–∏–π","–í–∞–¥–∏–º","–Æ–ª–∏—è","–ö–∏—Ä–∏–ª–ª","–ó–æ—è","–ú–∏—Ö–∞–∏–ª"],
  "–ü—Ä–æ–∫–æ–ø–µ–Ω–∫–æ –°.–ì.":["–î–∞–≤–∏–¥","–ú–∞–∫—Å–∏–º","–ú–∞–∫—Å–∏–º (2)","–ú–∞–∫—Å–∏–º (3)","–¢–∞—Ç—å—è–Ω–∞","–ò–ª—å—è","–ì–ª–µ–±","–§—ë–¥–æ—Ä –ü."],
  "–°–∞—Ñ—Ä–æ–Ω–æ–≤–∞ –ù.–ù.":["–ú–∞–π—è"]
};

const store=JSON.parse(localStorage.getItem("razumStore"))||{};

function screen(){
  document.getElementById("home").classList.add("hidden");
  const s=document.getElementById("screen");
  s.classList.remove("hidden");
  return s;
}
function back(){
  document.getElementById("screen").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden");
}
function save(){localStorage.setItem("razumStore",JSON.stringify(store))}

function initChild(name,log){
  if(store[name])return;
  store[name]={
    name,log,
    level:1,
    lessons:8,
    comment:"–û—Ç–º–µ—á–∞–µ—Ç—Å—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞.",
    tasks:[
      {id:1,text:"–ü—Ä–æ–∏–∑–Ω–µ—Å–∏ —Å–ª–æ–≤–∞ —Å –Ω—É–∂–Ω—ã–º –∑–≤—É–∫–æ–º",status:"assigned"},
      {id:2,text:"–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–µ—Ä–∫–∞–ª–æ–º",status:"assigned"},
      {id:3,text:"–ò–≥—Ä–æ–≤–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è",status:"assigned"}
    ]
  };
  save();
}

/* ===== –†–û–î–ò–¢–ï–õ–¨ ===== */
function showParent(){
  const s=screen();
  s.innerHTML="<h2>–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–≥–æ–ø–µ–¥–∞</h2>";
  Object.keys(data).forEach(l=>s.innerHTML+=`<button onclick="parentKids('${l}')">${l}</button>`);
  s.innerHTML+=`<button class="back-btn" onclick="back()">–ù–∞–∑–∞–¥</button>`;
}
function parentKids(log){
  const s=screen();
  s.innerHTML=`<h2>${log}</h2>`;
  data[log].forEach(k=>s.innerHTML+=`<button onclick="childParent('${k}','${log}')">${k}</button>`);
  s.innerHTML+=`<button class="back-btn" onclick="showParent()">–ù–∞–∑–∞–¥</button>`;
}
function childParent(name,log){
  initChild(name,log);
  const c=store[name];
  const s=screen();
  s.innerHTML=`
    <h2>${name}</h2>
    <div class="card">
      ‚≠ê –£—Ä–æ–≤–µ–Ω—å ${c.level}<br>
      üéü –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π: ${c.lessons}<br><br>
      ${c.tasks.map(t=>`
        <div class="task ${t.status==='done'?'done':''}">
          ${t.text}
          ${
            t.status==='assigned'
              ? `<button class="small" onclick="request('${name}',${t.id})">–Ø –≤—ã–ø–æ–ª–Ω–∏–ª</button>`
              : t.status==='requested'
                ? '‚è≥ –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ'
                : '‚úîÔ∏è'
          }
        </div>`).join("")}
      <p><b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ª–æ–≥–æ–ø–µ–¥–∞:</b><br>${c.comment}</p>
    </div>
    <button class="back-btn" onclick="parentKids('${log}')">–ù–∞–∑–∞–¥</button>`;
}
function request(name,id){
  const t=store[name].tasks.find(x=>x.id===id);
  if(t.status==='assigned'){t.status='requested';save();}
  childParent(name,store[name].log);
}

/* ===== –õ–û–ì–û–ü–ï–î ===== */
function showSpeech(){
  const s=screen();
  s.innerHTML="<h2>–õ–æ–≥–æ–ø–µ–¥—ã</h2>";
  Object.keys(data).forEach(l=>s.innerHTML+=`<button onclick="speechKids('${l}')">${l}</button>`);
  s.innerHTML+=`<button class="back-btn" onclick="back()">–ù–∞–∑–∞–¥</button>`;
}
function speechKids(log){
  const s=screen();
  s.innerHTML=`<h2>${log}</h2>`;
  data[log].forEach(k=>s.innerHTML+=`<button onclick="childSpeech('${k}','${log}')">${k}</button>`);
  s.innerHTML+=`<button class="back-btn" onclick="showSpeech()">–ù–∞–∑–∞–¥</button>`;
}
function childSpeech(name,log){
  initChild(name,log);
  const c=store[name];
  const s=screen();
  s.innerHTML=`
    <h2>${name}</h2>
    <div class="card">
      ${c.tasks.map(t=>`
        <div class="task">
          ${t.text}
          ${
            t.status==='requested'
              ? `<button class="small" onclick="approve('${name}',${t.id})">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>`
              : t.status==='done'
                ? '‚úîÔ∏è'
                : '‚Äî'
          }
        </div>`).join("")}
      <textarea onchange="comment('${name}',this.value)">${c.comment}</textarea>
    </div>
    <button class="back-btn" onclick="speechKids('${log}')">–ù–∞–∑–∞–¥</button>`;
}
function approve(name,id){
  const c=store[name];
  const t=c.tasks.find(x=>x.id===id);
  if(t.status==='requested'){
    t.status='done';
    if(c.tasks.every(x=>x.status==='done')) c.level++;
    save();
  }
  childSpeech(name,c.log);
}
function comment(name,val){store[name].comment=val;save()}

/* ===== –ê–î–ú–ò–ù ===== */
function showAdmin(){
  const kids=Object.values(data).flat().length;
  const s=screen();
  s.innerHTML=`
    <h2>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h2>
    <div class="card">
      üë∂ –î–µ—Ç–µ–π: ${kids}<br>
      üí∞ –î–æ—Ö–æ–¥ –≤ –º–µ—Å—è—Ü: ${(kids*PRICE).toLocaleString()} ‚ÇΩ
    </div>
    <button class="back-btn" onclick="back()">–ù–∞–∑–∞–¥</button>`;
}
</script>

</body>
</html>
