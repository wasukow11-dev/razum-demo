<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>–†–ê–ó–£–ú ‚Äî –¥–µ–º–æ</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
  background: linear-gradient(180deg,#eef2ff,#ffffff);
  margin: 0;
  padding: 16px;
  color:#1f2937;
}

h1,h2,h3 { margin: 8px 0; }

.role-btn {
  padding: 14px;
  margin: 8px 0;
  width: 100%;
  border: none;
  border-radius: 16px;
  font-size: 16px;
  background: linear-gradient(135deg,#6366f1,#818cf8);
  color: #fff;
  cursor:pointer;
}

.card {
  background: #fff;
  border-radius: 18px;
  padding: 16px;
  margin-bottom: 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}

.progress {
  background: #e5e7eb;
  border-radius: 10px;
  overflow: hidden;
  margin: 8px 0;
}
.progress div {
  background: linear-gradient(90deg,#22c55e,#4ade80);
  height: 10px;
}

.badge {
  display:inline-block;
  background:#fde68a;
  padding:6px 10px;
  border-radius:12px;
  font-size:12px;
  margin:4px 4px 0 0;
}

.task {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:8px;
}

.task.done { opacity:0.6; text-decoration:line-through; }

.small-btn {
  padding:6px 10px;
  border:none;
  border-radius:10px;
  background:#22c55e;
  color:#fff;
  cursor:pointer;
}

.hidden { display:none; }
</style>
</head>

<body>

<h1>–†–ê–ó–£–ú</h1>
<p>–õ–æ–≥–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä ‚Ä¢ –ü–µ—Ç–µ—Ä–≥–æ—Ñ<br>
üìû 8 913 450-30-29<br>
üìç –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 60–õ, 2 —ç—Ç–∞–∂</p>

<div id="roles">
  <button class="role-btn" onclick="showParent()">üë®‚Äçüë©‚Äçüëß –Ø —Ä–æ–¥–∏—Ç–µ–ª—å</button>
  <button class="role-btn" onclick="showSpeech()">üë©‚Äç‚öïÔ∏è –Ø –ª–æ–≥–æ–ø–µ–¥</button>
  <button class="role-btn" onclick="showAdmin()">üõ† –Ø –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
</div>

<div id="parent" class="hidden"></div>
<div id="speech" class="hidden"></div>
<div id="admin" class="hidden"></div>

<script>
/* ====== –î–ê–ù–ù–´–ï ====== */
const child = {
  name:"–§—ë–¥–æ—Ä",
  age:4,
  specialist:"–í–∞—Å—é–∫–æ–≤–∞ –ê.–ê.",
  level:1,
  lessonsLeft:5,
  comment:"–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏, —Å—Ç–∞–ª —É–≤–µ—Ä–µ–Ω–Ω–µ–µ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—å –∑–≤—É–∫ –†.",
  tasks:[
    {id:1,text:"–ü—Ä–æ–∏–∑–Ω–µ—Å–∏ 10 —Å–ª–æ–≤ —Å–æ –∑–≤—É–∫–æ–º ¬´–†¬ª",done:false},
    {id:2,text:"–ü–æ–≤—Ç–æ—Ä–∏ —Å–∫–æ—Ä–æ–≥–æ–≤–æ—Ä–∫—É 3 —Ä–∞–∑–∞",done:false},
    {id:3,text:"–ò–≥—Ä–∞: –Ω–∞–π–¥–∏ –∑–≤—É–∫ ¬´–†¬ª –≤ —Å–ª–æ–≤–∞—Ö",done:false}
  ]
};

const saved = localStorage.getItem("razumDemo");
if(saved) Object.assign(child, JSON.parse(saved));

function save(){
  localStorage.setItem("razumDemo", JSON.stringify(child));
}

function progress(){
  return Math.round(
    (child.tasks.filter(t=>t.done).length / child.tasks.length) * 100
  );
}

/* ====== –†–û–î–ò–¢–ï–õ–¨ ====== */
function showParent(){
  hideAll();
  const p=document.getElementById("parent");
  p.classList.remove("hidden");

  p.innerHTML=`
    <h2>${child.name} (${child.age} –≥–æ–¥–∞)</h2>
    <div class="card">
      üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥: ${child.specialist}<br>
      üéü –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π: ${child.lessonsLeft}<br>
      ‚≠ê –£—Ä–æ–≤–µ–Ω—å: ${child.level}
      <div class="progress"><div style="width:${progress()}%"></div></div>

      <p><b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ª–æ–≥–æ–ø–µ–¥–∞:</b><br>${child.comment}</p>

      <h3>üéØ –ó–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
      ${child.tasks.map(t=>`
        <div class="task ${t.done?"done":""}">
          <span>${t.text}</span>
          ${t.done ? "‚úîÔ∏è" :
            `<button class="small-btn" onclick="completeTask(${t.id})">–Ø –≤—ã–ø–æ–ª–Ω–∏–ª</button>`}
        </div>
      `).join("")}

      ${child.tasks.every(t=>t.done)
        ? `<p class="badge">üèÜ –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!</p>`
        : ""}
    </div>

    <button class="role-btn" onclick="back()">–ù–∞–∑–∞–¥</button>
  `;
}

/* ====== –õ–û–ì–û–ü–ï–î ====== */
function showSpeech(){
  hideAll();
  const s=document.getElementById("speech");
  s.classList.remove("hidden");

  s.innerHTML=`
    <h2>–õ–æ–≥–æ–ø–µ–¥: –í–∞—Å—é–∫–æ–≤–∞ –ê.–ê.</h2>
    <div class="card">
      <b>${child.name}</b><br>
      –ü—Ä–æ–≥—Ä–µ—Å—Å: ${progress()}%
      <div class="progress"><div style="width:${progress()}%"></div></div>
      –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${child.comment}
    </div>
    <button class="role-btn" onclick="back()">–ù–∞–∑–∞–¥</button>
  `;
}

/* ====== –ê–î–ú–ò–ù ====== */
function showAdmin(){
  hideAll();
  const a=document.getElementById("admin");
  a.classList.remove("hidden");

  a.innerHTML=`
    <h2>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h2>
    <div class="card">
      üë∂ –î–µ—Ç–∏: 40<br>
      üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥—ã: 3<br>
      üìä –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ${progress()}%
    </div>
    <button class="role-btn" onclick="back()">–ù–∞–∑–∞–¥</button>
  `;
}

/* ====== –õ–û–ì–ò–ö–ê ====== */
function completeTask(id){
  const t=child.tasks.find(x=>x.id===id);
  if(!t.done){
    t.done=true;
    if(child.tasks.every(x=>x.done)) child.level++;
    save();
    showParent();
  }
}

function hideAll(){
  ["roles","parent","speech","admin"].forEach(id=>{
    document.getElementById(id).classList.add("hidden");
  });
}

function back(){
  hideAll();
  document.getElementById("roles").classList.remove("hidden");
}
</script>

</body>
</html>
