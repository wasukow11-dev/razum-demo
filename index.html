<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†–ê–ó–£–ú ‚Äî –¥–µ–º–æ</title>

<style>
:root{
  --primary:#6366f1;
  --accent:#22c55e;
  --bg:#0f172a;
  --card:rgba(30,41,59,.85);
  --text:#e5e7eb;
  --muted:#94a3b8;
}

body{
  margin:0;
  padding:16px;
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  background:
    radial-gradient(1200px 600px at 10% -10%, #1e1b4b, transparent),
    radial-gradient(1200px 600px at 90% 10%, #312e81, transparent),
    var(--bg);
  color:var(--text);
}

h1,h2,h3{
  margin:8px 0;
  font-weight:600;
}

button{
  width:100%;
  padding:14px;
  margin:6px 0;
  border:none;
  border-radius:18px;
  background:linear-gradient(135deg,var(--primary),#818cf8);
  color:#fff;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.4);
}

button:hover{
  transform:translateY(-1px);
}

.card{
  background:var(--card);
  backdrop-filter:blur(10px);
  border-radius:22px;
  padding:18px;
  margin-bottom:14px;
  box-shadow:0 20px 40px rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.05);
}

.progress{
  background:#020617;
  border-radius:10px;
  overflow:hidden;
  margin:8px 0;
}
.progress div{
  height:10px;
  background:linear-gradient(90deg,var(--accent),#4ade80);
}

.task{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
  font-size:14px;
}
.task.done{
  opacity:.5;
  text-decoration:line-through;
}

.small{
  padding:6px 12px;
  border-radius:12px;
  background:var(--accent);
  color:#022c22;
  font-size:13px;
}

input{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.08);
  background:#020617;
  color:var(--text);
  margin-top:6px;
}

input::placeholder{
  color:var(--muted);
}

p{
  color:var(--muted);
  line-height:1.5;
}

.hidden{display:none}
</style>
</head>

<body>

<h1>–†–ê–ó–£–ú</h1>

<div class="card">
  <p>
    <b style="color:#fff">–õ–æ–≥–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –≤ –ü–µ—Ç–µ—Ä–≥–æ—Ñ–µ</b><br><br>
    –ú—ã –ø–æ–º–æ–≥–∞–µ–º –¥–µ—Ç—è–º —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Ä–µ—á—å, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é.
    –†–∞–±–æ—Ç–∞–µ–º –ø–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∞–º, —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
    –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏ —É–¥–æ–±–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.
  </p>
  <p>
    üìû 8 913 450-30-29<br>
    üìç –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç 60–õ, 2 —ç—Ç–∞–∂
  </p>
</div>

<div id="home">
  <button onclick="showParent()">üë®‚Äçüë©‚Äçüëß –†–æ–¥–∏—Ç–µ–ª—å</button>
  <button onclick="showSpeech()">üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥</button>
  <button onclick="showAdmin()">üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
</div>

<div id="screen" class="hidden"></div>

<script>
/* ================= –î–ê–ù–ù–´–ï ================= */
const PRICE = 16000;

const data = {
  "–í–∞—Å—é–∫–æ–≤–∞ –ê.–ê.": [
    "–§—ë–¥–æ—Ä","–ê–ª–µ–∫—Å–∞–Ω–¥—Ä","–ê—Ä—Ç—ë–º","–ú–∏—Ä–æ—Å–ª–∞–≤–∞","–Ø—Å—è","–í–ª–∞–¥–∏–º–∏—Ä",
    "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞","–ê–ª–µ–∫—Å–µ–π","–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω","–ü—ë—Ç—Ä","–ï–ª–∏–∑–∞–≤–µ—Ç–∞",
    "–ê–ª—ë–Ω–∞","–ú–∏—è","–¢–∞–∏—Ä","–°—Ç–µ—à–∞","–õ–µ–æ–Ω–∏–¥","–°–∞–≤–µ–ª–∏–π","–ê—Ä–∏–Ω–∞",
    "–ï–≤–≥–µ–Ω–∏–π","–í–∞–¥–∏–º","–Æ–ª–∏—è","–ö–∏—Ä–∏–ª–ª","–ó–æ—è","–ú–∏—Ö–∞–∏–ª"
  ],
  "–ü—Ä–æ–∫–æ–ø–µ–Ω–∫–æ –°.–ì.": [
    "–î–∞–≤–∏–¥","–ú–∞–∫—Å–∏–º","–ú–∞–∫—Å–∏–º (2)","–ú–∞–∫—Å–∏–º (3)",
    "–¢–∞—Ç—å—è–Ω–∞","–ò–ª—å—è","–ì–ª–µ–±","–§—ë–¥–æ—Ä –ü."
  ],
  "–°–∞—Ñ—Ä–æ–Ω–æ–≤–∞ –ù.–ù.": ["–ú–∞–π—è"]
};

const store = JSON.parse(localStorage.getItem("razumStore")) || {};

/* ================= –£–¢–ò–õ–ò–¢–´ ================= */
function screen(){
  const s=document.getElementById("screen");
  s.classList.remove("hidden");
  document.getElementById("home").classList.add("hidden");
  return s;
}
function back(){
  document.getElementById("screen").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden");
}
function save(){
  localStorage.setItem("razumStore",JSON.stringify(store));
}

/* ================= –†–û–î–ò–¢–ï–õ–¨ ================= */
function showParent(){
  const s=screen();
  s.innerHTML="<h2>–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–≥–æ–ø–µ–¥–∞</h2>";
  Object.keys(data).forEach(l=>{
    s.innerHTML+=`<button onclick="parentKids('${l}')">${l}</button>`;
  });
  s.innerHTML+=`<button onclick="back()">–ù–∞–∑–∞–¥</button>`;
}

function parentKids(log){
  const s=screen();
  s.innerHTML=`<h2>${log}</h2>`;
  data[log].forEach(k=>{
    s.innerHTML+=`<button onclick="childCard('${k}','${log}')">${k}</button>`;
  });
  s.innerHTML+=`<button onclick="showParent()">–ù–∞–∑–∞–¥</button>`;
}

/* ================= –ö–ê–†–¢–û–ß–ö–ê –†–ï–ë–Å–ù–ö–ê ================= */
function childCard(name,log){
  if(!store[name]){
    store[name]={
      name,
      log,
      age:3+Math.floor(Math.random()*4),
      level:1,
      lessons:8,
      comment:"–û—Ç–ª–∏—á–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∑–∞–Ω—è—Ç–∏—è—Ö, –∑–∞–º–µ—Ç–µ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å.",
      tasks:[
        {id:1,text:"–ü—Ä–æ–∏–∑–Ω–µ—Å–∏ 10 —Å–ª–æ–≤ —Å –Ω—É–∂–Ω—ã–º –∑–≤—É–∫–æ–º",done:false},
        {id:2,text:"–ü–æ–≤—Ç–æ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–µ—Ä–∫–∞–ª–æ–º",done:false},
        {id:3,text:"–ò–≥—Ä–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é",done:false}
      ]
    };
  }
  save();
  const c=store[name];
  const done=c.tasks.filter(t=>t.done).length;
  const s=screen();

  s.innerHTML=`
    <h2>${c.name} (${c.age} –ª–µ—Ç)</h2>
    <div class="card">
      üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥: ${c.log}<br>
      üéü –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π: ${c.lessons}<br>
      ‚≠ê –£—Ä–æ–≤–µ–Ω—å: ${c.level}
      <div class="progress"><div style="width:${done/3*100}%"></div></div>

      <p><b style="color:#fff">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ª–æ–≥–æ–ø–µ–¥–∞:</b><br>${c.comment}</p>

      <h3>üéØ –ó–∞–¥–∞–Ω–∏—è</h3>
      ${c.tasks.map(t=>`
        <div class="task ${t.done?"done":""}">
          ${t.text}
          ${t.done?"‚úîÔ∏è":"<button class='small' onclick=\"doneTask('${name}',${t.id})\">–Ø –≤—ã–ø–æ–ª–Ω–∏–ª</button>"}
        </div>`).join("")}
    </div>

    <button onclick="parentKids('${log}')">–ù–∞–∑–∞–¥</button>
  `;
}

function doneTask(name,id){
  const c=store[name];
  const t=c.tasks.find(x=>x.id===id);
  if(!t.done){
    t.done=true;
    if(c.tasks.every(x=>x.done)) c.level++;
    save();
  }
  childCard(c.name,c.log);
}

/* ================= –õ–û–ì–û–ü–ï–î ================= */
function showSpeech(){
  const s=screen();
  s.innerHTML="<h2>–õ–æ–≥–æ–ø–µ–¥—ã</h2>";
  Object.keys(data).forEach(l=>{
    s.innerHTML+=`<button onclick="parentKids('${l}')">${l}</button>`;
  });
  s.innerHTML+=`<button onclick="back()">–ù–∞–∑–∞–¥</button>`;
}

/* ================= –ê–î–ú–ò–ù ================= */
function showAdmin(){
  const kids=Object.values(data).flat().length;
  const s=screen();
  s.innerHTML=`
    <h2>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h2>

    <div class="card">
      üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥–æ–≤: ${Object.keys(data).length}<br>
      üë∂ –î–µ—Ç–µ–π: ${kids}
    </div>

    <div class="card">
      <b style="color:#fff">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–∏–±—ã–ª–∏</b><br><br>
      –ê–±–æ–Ω–µ–º–µ–Ω—Ç: 8 –∑–∞–Ω—è—Ç–∏–π = 16 000 ‚ÇΩ<br><br>
      <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π</label>
      <input type="number" value="${kids}" id="calcKids" oninput="calc()">
      <p id="sum" style="margin-top:10px;font-weight:bold"></p>
    </div>

    <button onclick="back()">–ù–∞–∑–∞–¥</button>
  `;
  calc();
}

function calc(){
  const k=document.getElementById("calcKids").value||0;
  document.getElementById("sum").innerText=
    "–î–æ—Ö–æ–¥ –≤ –º–µ—Å—è—Ü: "+(k*PRICE).toLocaleString()+" ‚ÇΩ";
}
</script>

</body>
</html>
