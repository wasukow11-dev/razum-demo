<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†–ê–ó–£–ú ‚Äî –¥–µ–º–æ</title>

<style>
body {
  font-family: -apple-system,BlinkMacSystemFont,Arial,sans-serif;
  background: linear-gradient(180deg,#eef2ff,#ffffff);
  margin:0; padding:16px; color:#1f2937;
}
h1,h2,h3{margin:8px 0}
button{
  width:100%; padding:14px; margin:6px 0;
  border:none; border-radius:16px;
  background:linear-gradient(135deg,#6366f1,#818cf8);
  color:#fff; font-size:16px; cursor:pointer;
}
.card{
  background:#fff; border-radius:18px;
  padding:16px; margin-bottom:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}
.progress{background:#e5e7eb;border-radius:10px;overflow:hidden}
.progress div{height:10px;background:linear-gradient(90deg,#22c55e,#4ade80)}
.task{display:flex;justify-content:space-between;margin-top:8px}
.task.done{opacity:.5;text-decoration:line-through}
.small{padding:6px 10px;border-radius:10px;background:#22c55e}
.hidden{display:none}
</style>
</head>

<body>

<h1>–†–ê–ó–£–ú</h1>
<p>–õ–æ–≥–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä ‚Ä¢ –ü–µ—Ç–µ—Ä–≥–æ—Ñ<br>
üìû 8 913 450-30-29<br>
üìç –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç 60–õ, 2 —ç—Ç–∞–∂</p>

<div id="home">
  <button onclick="showParent()">üë®‚Äçüë©‚Äçüëß –†–æ–¥–∏—Ç–µ–ª—å</button>
  <button onclick="showSpeech()">üë©‚Äç‚öïÔ∏è –õ–æ–≥–æ–ø–µ–¥</button>
  <button onclick="showAdmin()">üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
</div>

<div id="screen" class="hidden"></div>

<script>
/* ===== –î–ê–ù–ù–´–ï ===== */
const data = {
  logopedists: {
    "–í–∞—Å—é–∫–æ–≤–∞ –ê.–ê.": [
      "–§—ë–¥–æ—Ä","–ê–ª–µ–∫—Å–∞–Ω–¥—Ä","–ê—Ä—Ç—ë–º","–ú–∏—Ä–æ—Å–ª–∞–≤–∞","–Ø—Å—è","–í–ª–∞–¥–∏–º–∏—Ä",
      "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞","–ê–ª–µ–∫—Å–µ–π","–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω","–ü—ë—Ç—Ä","–ï–ª–∏–∑–∞–≤–µ—Ç–∞",
      "–ê–ª—ë–Ω–∞","–ú–∏—è","–¢–∞–∏—Ä","–°—Ç–µ—à–∞","–õ–µ–æ–Ω–∏–¥","–°–∞–≤–µ–ª–∏–π","–ê—Ä–∏–Ω–∞",
      "–ï–≤–≥–µ–Ω–∏–π","–í–∞–¥–∏–º","–Æ–ª–∏—è","–ö–∏—Ä–∏–ª–ª","–ó–æ—è","–ú–∏—Ö–∞–∏–ª"
    ],
    "–ü—Ä–æ–∫–æ–ø–µ–Ω–∫–æ –°.–ì.": [
      "–î–∞–≤–∏–¥","–ú–∞–∫—Å–∏–º 1","–ú–∞–∫—Å–∏–º 2","–ú–∞–∫—Å–∏–º 3",
      "–¢–∞—Ç—å—è–Ω–∞","–ò–ª—å—è","–ì–ª–µ–±","–§—ë–¥–æ—Ä –ü."
    ],
    "–°–∞—Ñ—Ä–æ–Ω–æ–≤–∞ –ù.–ù.": ["–ú–∞–π—è"]
  }
};

const storage = JSON.parse(localStorage.getItem("razumAll")) || {};

function getChild(name, spec){
  if(!storage[name]){
    storage[name]={
      name, specialist:spec,
      age:3+Math.floor(Math.random()*4),
      level:1, lessons:8,
      comment:"–•–æ—Ä–æ—à–∞—è –¥–∏–Ω–∞–º–∏–∫–∞, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É.",
      tasks:[
        {id:1,text:"–ü—Ä–æ–∏–∑–Ω–µ—Å–∏ 10 —Å–ª–æ–≤ —Å–æ –∑–≤—É–∫–æ–º",done:false},
        {id:2,text:"–ü–æ–≤—Ç–æ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ",done:false},
        {id:3,text:"–ò–≥—Ä–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ",done:false}
      ]
    };
  }
  return storage[name];
}

function save(){localStorage.setItem("razumAll",JSON.stringify(storage));}

function hide(){document.getElementById("home").classList.add("hidden")}
function back(){document.getElementById("screen").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden")}

/* ===== –†–û–î–ò–¢–ï–õ–¨ ===== */
function showParent(){
  hide(); const s=screen(); s.innerHTML="<h2>–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–≥–æ–ø–µ–¥–∞</h2>";
  Object.keys(data.logopedists).forEach(l=>{
    s.innerHTML+=`<button onclick="parentKids('${l}')">${l}</button>`;
  });
}

function parentKids(l){
  const s=screen(); s.innerHTML=`<h2>${l}</h2>`;
  data.logopedists[l].forEach(c=>{
    s.innerHTML+=`<button onclick="childCard('${c}','${l}')">${c}</button>`;
  });
  s.innerHTML+=`<button onclick="back()">–ù–∞–∑–∞–¥</button>`;
}

/* ===== –ö–ê–†–¢–û–ß–ö–ê –†–ï–ë–Å–ù–ö–ê ===== */
function childCard(name,spec){
  const c=getChild(name,spec); save();
  const done=c.tasks.filter(t=>t.done).length;
  const s=screen();
  s.innerHTML=`
  <h2>${c.name} (${c.age} –ª–µ—Ç)</h2>
  <div class="card">
    üë©‚Äç‚öïÔ∏è ${c.specialist}<br>
    üéü –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π: ${c.lessons}<br>
    ‚≠ê –£—Ä–æ–≤–µ–Ω—å: ${c.level}
    <div class="progress"><div style="width:${done/3*100}%"></div></div>
    <p><b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</b><br>${c.comment}</p>
    <h3>–ó–∞–¥–∞–Ω–∏—è</h3>
    ${c.tasks.map(t=>`
      <div class="task ${t.done?"done":""}">
        ${t.text}
        ${t.done?"‚úî":"<button class='small' onclick=\"doneTask('"+name+"',"+t.id+")\">–Ø –≤—ã–ø–æ–ª–Ω–∏–ª</button>"}
      </div>`).join("")}
  </div>
  <button onclick="back()">–ù–∞–∑–∞–¥</button>`;
}

function doneTask(name,id){
  const c=storage[name];
  const t=c.tasks.find(x=>x.id===id);
  if(!t.done){t.done=true;if(c.tasks.every(x=>x.done))c.level++;}
  save(); childCard(c.name,c.specialist);
}

/* ===== –õ–û–ì–û–ü–ï–î ===== */
function showSpeech(){
  hide(); const s=screen(); s.innerHTML="<h2>–õ–æ–≥–æ–ø–µ–¥—ã</h2>";
  Object.keys(data.logopedists).forEach(l=>{
    s.innerHTML+=`<button onclick="parentKids('${l}')">${l}</button>`;
  });
}

/* ===== –ê–î–ú–ò–ù ===== */
function showAdmin(){
  hide(); const s=screen();
  let kids=Object.values(data.logopedists).flat().length;
  s.innerHTML=`
  <h2>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h2>
  <div class="card">
    –õ–æ–≥–æ–ø–µ–¥–æ–≤: 3<br>
    –î–µ—Ç–µ–π: ${kids}<br>
    –ê–±–æ–Ω–µ–º–µ–Ω—Ç: 8 –∑–∞–Ω—è—Ç–∏–π / 16 000 ‚ÇΩ
  </div>
  <button onclick="back()">–ù–∞–∑–∞–¥</button>`;
}

function screen(){
  const s=document.getElementById("screen");
  s.classList.remove("hidden"); return s;
}
</script>

</body>
</html>
